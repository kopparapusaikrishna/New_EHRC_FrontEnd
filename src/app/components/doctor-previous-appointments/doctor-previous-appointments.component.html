<!DOCTYPE html>
<html>
<head>
    <title>Doctor Previous Appointments</title> 

    <link rel="stylesheet" href="http://www.w3schools.com/lib/w3.css">
    <!-- Google fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;900&family=Ubuntu&display=swap" rel="stylesheet">

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.4/css/all.css" integrity="sha384-DyZ88mC6Up2uqS4h/KRgHuoeGwBcD4Ng9SiP4dIRy0EXTlnuz47vAwmeGwVChigm" crossorigin="anonymous">

    <!-- Bootstrap Scripts -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>

    <style>
        .w3-sidenav w3-white w3-card-2{
            background-color: black !important;
        }
    </style>
</head>

<body>
    <!-- <header class="w3-container w3-teal">
        <div class=" heading-div">
            <button class="btn btn-primary navbar" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasWithBothOptions" aria-controls="offcanvasWithBothOptions">&#9776;</button>
            <h2 class="web-name">Tele Consultation Platform</h2>
            <div  class="heading">{{doctor_details.doctorName}}</div>
        </div>         
    </header> -->


    <mat-toolbar class="mat-elevation-z8">
        <button
          mat-icon-button
          *ngIf="sidenav.mode === 'over'"
          (click)="sidenav.toggle()"
        >
          <mat-icon *ngIf="!sidenav.opened"> menu </mat-icon>
          <mat-icon *ngIf="sidenav.opened"> close </mat-icon>
        </button>
        <a >Tele Consultation Platform</a>
        <p class="heading">{{doctor_details.doctorName}}</p>
      </mat-toolbar>
      
      <mat-sidenav-container >
        <mat-sidenav #sidenav="matSidenav" class="mat-elevation-z8">
          <img
            class="avatar mat-elevation-z8"
            src="../../../assets/Doctor.jpeg"
          />
      
          <h4 class="name">{{doctor_details.doctorName}}</h4>
          <p class="designation">{{doctor_details.departmentName}}</p>
      
          <mat-divider></mat-divider>
      
          <button mat-button class="menu-button" routerLink="/doctor-dashboard">
            <mat-icon>dashboard</mat-icon>
            <span>Dashboard</span>
          </button>
          <button mat-button class="menu-button" routerLink="/doctor-prev-appointments" routerLinkActive="active">
            <mat-icon>event</mat-icon>
            <span>Appointments</span>
          </button>
          <!-- <button mat-button class="menu-button" routerLink="/about">
            <mat-icon>info</mat-icon>
            <span>About</span>
          </button> -->
          <button mat-button class="menu-button" (click)="logout()">
            <mat-icon>exit_to_app</mat-icon>
            <span>LogOut</span>
          </button>
      
          <!-- <mat-divider></mat-divider> -->
      
          <!-- <button mat-button class="menu-button" routerLink="/help">
            <mat-icon>help</mat-icon>
            <span>Help</span>
          </button> -->
        </mat-sidenav>
        <!-- <mat-sidenav-content>
          <div class="content mat-elevation-z8">
            <router-outlet></router-outlet>
          </div>
        </mat-sidenav-content> -->
    
        <mat-sidenav-content style = "background: url('../../../assets/profiles3.webp')">
            <div class="prev-appointments" style="margin-top: 2%; margin-bottom:5%">
                <div style="padding-left: 5%;">
                    <div><p>Previous Appointments</p></div>
                    <table>
                    <thead><th>Date</th><th>Patient Name</th><th>Prescription</th><th>Follow-up</th><th>Remind Message</th> </thead>  
                    <tr *ngFor="let prev_appointment of prevAppointmentsLst; let i = index">
                        <th>{{prev_appointment.appointment_date}}</th>
                        <th>{{prev_appointment.patient_name}}</th>
                        <th><button class="btn btn-primary" (click)="getPrescription(prev_appointment.appointment_id)">Prescription</button></th> 
                        <th>{{prev_appointment.follow_up}}</th>
                        <th><button class="btn btn-primary" [disabled]="!prev_appointment.follow_up" (click)="remindPatient(prev_appointment.appointment_id)" >Send Message</button></th>
                    </tr>
                    
                    </table>
                </div> 
                
            </div> 
        </mat-sidenav-content>
    
    
      </mat-sidenav-container>


    <style>
        table{
            width: 100%;
            align-content: center;    
        }
        th,td{
            padding: 10pxs;
        }
    </style>
</body>